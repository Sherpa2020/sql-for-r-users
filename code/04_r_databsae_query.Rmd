---
title: "SQL for R Users"
author: "Jae Yeon Kim"
output:
  html_document:
    df_print: paged
    number_sections: yes
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
---

# Setup 

```{r}

rm(list = ls())

if (!require("pacman")) install.packages("pacman")
pacman::p_load(
 tidyverse, # tidyverse packages 
 dbplyr, # to use database with dplyr 
 DBI, # for using SQL queries
 odbc, # backend engine; open data connectivity driver
 RPostgreSQL
)

```

# Connect 

```{r}

con <- dbConnect(RPostgres::Postgres(),
                 dbname = "jae",
                 host = "localhost", 
                 port = 5432, 
                 user = "oski",
                 password = "oski_pw")

```

# EDA

```{r}

# Identify the target table 
src_dbi(con)

# Extract the target table 
test <- con %>% tbl("test_data")

# Query the table in the database as if it were an R dataframe or tibble 

test %>% 
  head(10)

```

